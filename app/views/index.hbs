<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>My Blog</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>

	<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
		<a class="navbar-brand" href="#">My Blog</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
			aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link" href="/">Home</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/posts">Posts</a>
				</li>
				{{#if user}}
				<li class="nav-item">
					<a class="nav-link" href="./post/create.hbs">New Post</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/logout">Logout</a>
				</li>
				{{else}}
				<li class="nav-item">
					<a class="nav-link" href="./auth/login.hbs">Login</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="./auth/register.hbs">Register</a>
				</li>
				{{/if}}
			</ul>
		</div>
	</nav>

	<main role="main" class="container">
		<div class="jumbotron">
			<h1 class="display-4">Welcome to My Blog!</h1>
			<p class="lead">This is a simple blog application built with Node.js, Express, and Sequelize.</p>
			{{#if user}}
			<p><a class="btn btn-lg btn-primary" href="/posts/create" role="button">Create New Post</a></p>
			{{/if}}
		</div>

		{{#each posts}}
		<div class="row">
			<div class="col-md-12">
				<h2>{{this.title}}</h2>
				<p>By {{this.user.name}} on {{formatDate this.createdAt}}</p>
				<p>{{this.body}}</p>
				<p><a class="btn btn-secondary" href="/posts/{{this.id}}" role="button">View details Â»</a></p>
			</div>
		</div>
		<hr>
		{{/each}}

	</main>

	<script src="/js/jquery-3.3.1.slim.min.js"></script>
	<script src="/js/popper.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/moment.min.js"></script>
	<script src="/js/script.js"></script>
</body>

</html>